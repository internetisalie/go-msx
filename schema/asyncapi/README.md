# AsyncApi Schema

[AsyncApi](https://asyncapi.com) Schema contains support infrastructure for
generating and consuming AsyncApi specifications directly from go code.

Microservice developers will typically interact with a small subset of AsyncApi 
models.

## Documentation Generators

Documentation Generators convert an active object from the `streamops` package
to a documentation element from this package.  

- `ChannelDocumentor`
  - Generates `ChannelItem` documentation from a `streamops.Channel`
- `ChannelPublisherDocumentor`
  - Generates `Operation` documentation from a `streamops.ChannelPublisher`
- `ChannelSubscriberDocumentor`
  - Generates `Operation` documentation from a `streamops.ChannelSubscriber` 
- `MessagePublisherDocumentor`
  - Generates `Message` documentation from a `streamops.MessagePublisher`

Documentation Generators have the following user-modifiable properties:
- `Skip`:
  Set to true if you which to skip generating documentation for this node.
- `ChannelItem`/`Operation`/`Message`:
  Specify a documentation element instance to use as the basis for generating
  documentation for this node.  This is typically where you provide explanatory
  fields such as title, description, etc.
- `Mutator`:
  Specify a function to enable customization of the generated documentation
  after the Documentor has processed this node.

## Documentation Elements

Documentation Elements are generated by documentors and are inserted into the
AsyncApi specification document being generated.

- [`Channel`](https://www.asyncapi.com/docs/reference/specification/v2.4.0#channelItemObject)
  - Documents sequence of sent and received messages from a single location.
- [`Message`](https://www.asyncapi.com/docs/reference/specification/v2.4.0#messageObject)
  - Documents a single unit of communication sent to or received from a channel.
- [`Operation`](https://www.asyncapi.com/docs/reference/specification/v2.4.0#operationObject)
  - Documents a single channel operation (publish or subscriber) for a single channel.
- [`Schema`](https://www.asyncapi.com/docs/reference/specification/v2.4.0#schemaObject)
  - Documents the format of a message payload or headers.
  - In go-msx, this schema must be in [JSON Schema](https://json-schema.org/draft/2020-12/json-schema-validation.html) format.
